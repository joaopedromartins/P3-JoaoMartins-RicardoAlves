<ui:composition template="../paginas/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="conteudo">

		<center>
			<h:form>
				<h:selectOneRadio id="radiobasciet" styleClass="txtconteudo"
					value="#{calcinterface.tipocalc}">
					<f:selectItem itemValue="basica" itemLabel="Basica" />
					<f:selectItem itemValue="cientifica" itemLabel="Cientifica" />
					<f:ajax event="change" execute="radiobasciet"
						render="calculadoraform:calcbuttons calculadoraform:radiobasicacientifica headerform:calcheader" />
				</h:selectOneRadio>

			</h:form>
		</center>
		<div id="container" class="ui-grid ui-grid-responsive">
			<div class="ui-grid-row ">
				<div class="ui-grid-col-3">
					<br />
					<p:panelGrid columns="1" styleClass="painel"
						style="margin-left:100px" cellpadding="20" cellspacing="20">
						<f:facet name="header"> Utilidades </f:facet>
						<!-- linha em branco -->
						<p:panel id="pnlhistorico" header="Histórico de Operações"
							footer="Clique na expressão para reutilizar" toggleable="true"
							toggleOrientation="vertical" style="margin-bottom:20px">
							
							<h:form id="formhistorico">
								<h:panelGroup id="historicoexp">
									<h:panelGrid columns="2" cellpadding="10" styleClass="painel-interior">
								
										<h:dataTable value="#{pickListView.hist}" var="item">
											<h:column>
												<f:facet name="header">Expressão</f:facet>
												<h:commandButton styleClass="btn-historico"
													actionListener="#{calcinterface.reuse}" value="#{item}">
													<f:attribute name="exphist" value="#{item}" />
													<f:ajax execute="calculadoraform:calcdisplay" render="calculadoraform:calcdisplay" />
												</h:commandButton>
											</h:column>
										</h:dataTable>
								
										<h:dataTable value="#{pickListView.time}" var="time">
											<h:column>
												<f:facet name="header">Tempo</f:facet>
												#{time} s
											</h:column>
										</h:dataTable>

									</h:panelGrid>
								</h:panelGroup>	
							</h:form>
						</p:panel>

						<br />
						
						<p:panel class="est" id="pnlestatistica" header="Estatística"
							toggleable="true" toggleOrientation="vertical" collapsed="true" >

							<h:form id="estatisticaform" >
								<h:panelGrid columns="3" cellpadding="10" styleClass="painel-interior">
									<h:dataTable value="#{calcinterface.operador}" var="operador">
										<h:column>
											<f:facet name="header">Função</f:facet>
											#{operador}
										</h:column>
									</h:dataTable>
										
									<h:dataTable value="#{calcinterface.vezes}" var="vezes">
										<h:column>
											<f:facet name="header">Quantidade</f:facet>
											#{vezes}
										</h:column>
									</h:dataTable>
									
									<h:dataTable value="#{calcinterface.percentagem}" var="percentagem">
										<h:column>
											<f:facet name="header">Percentagem</f:facet>
											#{percentagem} %
										</h:column>
									</h:dataTable>
											
									<f:ajax render="estatisticaform">
										<h:commandButton id="btnhidden2" type="submit"
											style="display:none;" value="Hidden2" action="calculadora" />
									</f:ajax>
											
								</h:panelGrid>			
							</h:form>
						</p:panel>


						<br />

						<p:panel class="est" id="pnlajuda" header="Funções Disponíveis"
							toggleable="true" toggleTitle="true" toggleOrientation="vertical" collapsed="true" styleClass="painel-interior">
							<table class="tabela" >
								<tbody>
									<tr>
										<td>abs</td>
										<td>Valor Absoluto</td>
										<td>abs(...)</td>
									</tr>
									<tr>
										<td>acos</td>
										<td>Arc coseno</td>
										<td>acos(...)</td>
									</tr>
									<tr>
										<td>asin</td>
										<td>Arco seno</td>
										<td>asin(...)</td>
									</tr>
									<tr>
										<td>atan</td>
										<td>Arco tangente</td>
										<td>atan(...)</td>
									</tr>
									<tr>
										<td>cbrt</td>
										<td>Raíz cúbica</td>
										<td>cbrt(...)</td>
									</tr>
									<tr>
										<td>ceil</td>
										<td>Arredondamento superior</td>
										<td>ceil(...)</td>
									</tr>
									<tr>
										<td>cos</td>
										<td>Coseno</td>
										<td>cos(...)</td>
									</tr>
									<tr>
										<td>cosh</td>
										<td>Coseno hiperbólico</td>
										<td>cosh(...)</td>
									</tr>
									<tr>
										<td>exp</td>
										<td>Potência de base "e" (Número de Euler)</td>
										<td>cosh(...)</td>
									</tr>
									<tr>
										<td>floor</td>
										<td>Arredondamento inferior</td>
										<td>floor(...)</td>
									</tr>
									<tr>
										<td>log</td>
										<td>Logarítmo de base "e"</td>
										<td>log(...)</td>
									</tr>
									<tr>
										<td>log10</td>
										<td>Logarítmo de base 10</td>
										<td>log10(...)</td>
									</tr>
									<tr>
										<td>log2</td>
										<td>Logarítmo de base 2</td>
										<td>log2(...)</td>
									</tr>
									<tr>
										<td>sin</td>
										<td>Seno</td>
										<td>sin(...)</td>
									</tr>
									<tr>
										<td>sinh</td>
										<td>Seno hiperbólico</td>
										<td>sinh(...)</td>
									</tr>
									<tr>
										<td>sqrt</td>
										<td>Raíz quadrada</td>
										<td>sqrt(...)</td>
									</tr>
									<tr>
										<td>tan</td>
										<td>Tangente</td>
										<td>tan(...)</td>
									</tr>
									<tr>
										<td>tanh</td>
										<td>Tangente hiperbólico</td>
										<td>tanh(...)</td>
									</tr>

									<tr>
										<td>x^y</td>
										<td>x elevado a y</td>
										<td>(..)x^y(...)</td>
									</tr>
									<tr>
										<td>xSQRTy</td>
										<td>Raíz indíce x de y</td>
										<td>(y)xSQRTy(x)</td>
									</tr>
									<tr>
										<td>!</td>
										<td>Factorial</td>
										<td>(...)!</td>
									</tr>
									<tr>
										<td>!</td>
										<td>(!)+(..)</td>
										<td>Não permite o cálculo de ! numa expressão sem o
											factorial estar inserido em()</td>
									</tr>
								</tbody>
							</table>
						</p:panel>
						<br />
					</p:panelGrid>
				</div>


				<div class="ui-grid-col-1"></div>

				<div class="ui-grid-col-4">

					<p:panelGrid columns="1" styleClass="painel-com-fundo">
						<f:facet name="header">
							<h:form id="headerform">
								<h:outputText id="calcheader"
									value="Calculadora #{calcinterface.tipocalc}" />
							</h:form>
						</f:facet>


						<h:form id="calculadoraform">

							<h:panelGroup id="radiobasicacientifica"
								style="display:block; text-align:centre">
								<h:panelGrid columns="1" cellpadding="6" cellspacing="6">
									<h:selectOneRadio value="#{calcinterface.btnradio}"
										rendered="#{calcinterface.typescientific()}">
										<f:selectItem itemValue="rad" itemLabel="Radianos" />
										<f:selectItem itemValue="deg" itemLabel="Graus" />
									</h:selectOneRadio>
								</h:panelGrid>
							</h:panelGroup>

							<h:panelGroup id="calcdisplay"
								style="display:block; text-align:centre">
								<h:inputTextarea id="scientificdisplay"
									styleClass="txtareascientificdisplay"
									title="Preencha aqui a sua expressao matemática"
									value="#{calcinterface.display}" rows="2" cols="30" />
							</h:panelGroup>

							<h:panelGroup id="calcbuttons"
								style="display:block; text-align:centre">
								<f:ajax render="calculadoraform:calcdisplay">
									<h:panelGrid columns="6" cellpadding="5">
										<h:commandButton id="btnopen" styleClass="btn-fn"
											action="calculadora" value="("
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnclose" styleClass="btn-fn"
											action="calculadora" value=")"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnabs" styleClass="btn-fn"
											action="calculadora" value="abs"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnacos" styleClass="btn-fn"
											action="calculadora" value="acos"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnasin" styleClass="btn-fn"
											action="calculadora" value="asin"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnatan" styleClass="btn-fn"
											action="calculadora" value="atan"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btncbrt" styleClass="btn-fn"
											action="calculadora" value="3 &#8730;x"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnceil" styleClass="btn-fn"
											action="calculadora" value="ceil"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btncos" styleClass="btn-fn"
											action="calculadora" value="cos"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btncosh" styleClass="btn-fn"
											action="calculadora" value="cosh"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnexp" styleClass="btn-fn"
											action="calculadora" value="exp"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnfloor" styleClass="btn-fn"
											action="calculadora" value="floor"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnlog" styleClass="btn-fn"
											action="calculadora" value="log"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnlog10" styleClass="btn-fn"
											action="calculadora" value="log10"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnlog2" styleClass="btn-fn"
											action="calculadora" value="log2"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnsin" styleClass="btn-fn"
											action="calculadora" value="sin"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnsinh" styleClass="btn-fn"
											action="calculadora" value="sinh"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnsqrt" styleClass="btn-fn"
											action="calculadora" value="&#8730;"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btntan" styleClass="btn-fn"
											action="calculadora" value="tan"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btntanh" styleClass="btn-fn"
											action="calculadora" value="tanh"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btnfact" styleClass="btn-fn"
											action="calculadora" value="!"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btn-x-power-y" styleClass="btn-fn"
											type="button" value="x&#696;"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btn-x-root-y" styleClass="btn-fn"
											action="calculadora" value="&#696;&#8730;x"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
										<h:commandButton id="btn-pi" styleClass="btn-fn"
											action="calculadora" value="&#960;"
											actionListener="#{calcinterface.key}"
											rendered="#{calcinterface.typescientific()}" />
									</h:panelGrid>
								</f:ajax>
							</h:panelGroup>

							<h:panelGrid columns="2">
								<h:panelGrid columns="2">
									<f:ajax render="calculadoraform:calcdisplay">
										<h:panelGrid columns="4" cellpadding="5">
											<h:commandButton id="btn7" styleClass="btn-numeric"
												action="calculadora" value="7"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btn8" styleClass="btn-numeric"
												action="calculadora" value="8"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btn9" styleClass="btn-numeric"
												action="calculadora" value="9"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btnplus" styleClass="btn-numeric"
												action="calculadora" value="+"
												actionListener="#{calcinterface.key}" />

											<h:commandButton id="btn4" styleClass="btn-numeric"
												action="calculadora" value="4"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btn5" styleClass="btn-numeric"
												action="calculadora" value="5"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btn6" styleClass="btn-numeric"
												action="calculadora" value="6"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btnminus" styleClass="btn-numeric"
												action="calculadora" value="-"
												actionListener="#{calcinterface.key}" />

											<h:commandButton id="btn1" styleClass="btn-numeric"
												action="calculadora" value="1"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btn2" styleClass="btn-numeric"
												action="calculadora" value="2"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btn3" styleClass="btn-numeric"
												action="calculadora" value="3"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btntimes" styleClass="btn-numeric"
												action="calculadora" value="&#215;"
												actionListener="#{calcinterface.key}" />

											<!-- botao em branco -->
											<h:commandButton id="btn0" styleClass="btn-numeric"
												action="calculadora" value="0"
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btndot" styleClass="btn-numeric"
												action="calculadora" value="."
												actionListener="#{calcinterface.key}" />
											<h:commandButton id="btndivby" styleClass="btn-numeric"
												action="calculadora" value="&#247;"
												actionListener="#{calcinterface.key}" />

										</h:panelGrid>
									</f:ajax>

									<h:panelGrid columns="1" cellpadding="5">
										<f:ajax render="calculadoraform:calcdisplay">
											<h:commandButton id="btnac" styleClass="btn-clear" value="AC"
												action="#{calcinterface.ackey()}" />
											<h:commandButton id="btnc" styleClass="btn-clear" value="C"
												action="#{calcinterface.ckey()}" />
										</f:ajax>

										 
											<h:commandButton id="btnequal" styleClass="btn-equal" value="=" 
												action="#{calcinterface.btnequal()}" >
												<f:ajax execute="calculadoraform:calcdisplay" render="calculadoraform:calcdisplay formhistorico:historicoexp" />
											</h:commandButton>
										 
									</h:panelGrid>
								</h:panelGrid>
							</h:panelGrid>
						</h:form>

					</p:panelGrid>
				</div>
				<div class="ui-grid-col-1"></div>

				<div class="ui-grid-col-3">
					<h:form id="chatform">

						<!-- 							<p:poll interval="3" update="chatform"/> -->

						<p:panelGrid columns="1" styleClass="painel" id="painelChat" style="margin-right:100px">
							<f:facet name="header"> Fórum de cálculo </f:facet>


							<p:panel id="pnlchat" toggleable="true"
								toggleOrientation="vertical" style="margin-bottom:0px">
								<h:panelGrid columns="1" cellpadding="10" styleClass="painel-interior">

									<ul id="allchat">
										<ui:repeat value="#{chatinterface.todasConversas()}"
											var="item">
											<li>#{item}</li>
										</ui:repeat>
									</ul>

								</h:panelGrid>
							</p:panel>


							<h:panelGrid columns="2">
								<h:inputText id="setfrase" value="#{chatinterface.frase}" styleClass="painel-interior" />

								<f:ajax render="@form" execute="setfrase">
									<h:commandButton id="btnsend" styleClass="btn" type="submit"
										value="Enviar" action="#{chatinterface.btnsend()}" />
								</f:ajax>

								<f:ajax render="pnlchat">
									<h:commandButton id="btnhidden" type="submit"
										style="display:none;" value="Hidden" action="calculadora" />
								</f:ajax>

							</h:panelGrid>

						</p:panelGrid>
					</h:form>
				</div>
			</div>

		</div>
	</ui:define>
</ui:composition>
